
<!-- Botão de envio destacado no topo --> <div class="bg-green-100 p-4 border-b border-green-200"> <button id="sendToTrainer" class="send-button w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 px-6 rounded-md font-bold text-lg hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all flex items-center justify-center"> <svg class="h-6 w-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path> </svg> ENVIAR PARA O TREINADOR </button> </div> <form id="pseForm" class="p-6"> <!-- Email do treinador (oculto) --> <input type="hidden" id="trainerEmail" name="trainerEmail" value="policarpowellness@gmail.com"> <div class="mb-6"> <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Seu Nome</label> <input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"> </div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"> <div> <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Data do Treino</label> <input type="date" id="date" name="date" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"> </div> <div> <label for="duration" class="block text-sm font-medium text-gray-700 mb-1">Duração (minutos)</label> <input type="number" id="duration" name="duration" min="1" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" oninput="calcularUAPreview()"> </div> </div> <div class="mt-6"> <label for="distance" class="block text-sm font-medium text-gray-700 mb-1">Distância Percorrida (km) <span class="text-gray-500 text-xs">(opcional)</span></label> <input type="number" id="distance" name="distance" min="0" step="0.01" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"> </div> <div class="mt-6"> <label class="block text-sm font-medium text-gray-700 mb-3">Percepção Subjetiva de Esforço (PSE)</label> <p class="text-sm text-gray-500 mb-4">Selecione o nível que melhor representa o esforço do seu treino completo</p> <div class="grid grid-cols-2 md:grid-cols-5 gap-3"> <div class="pse-card cursor-pointer bg-blue-50 rounded-lg p-4 text-center border-2 border-transparent" data-value="0" onclick="selectPSE(this, 0)"> <div class="text-2xl font-bold text-blue-800">0</div> <div class="text-sm text-blue-600">Repouso</div> </div> <div class="pse-card cursor-pointer bg-blue-100 rounded-lg p-4 text-center border-2 border-transparent" data-value="1" onclick="selectPSE(this, 1)"> <div class="text-2xl font-bold text-blue-800">1</div> <div class="text-sm text-blue-600">Muito Fácil</div> </div> <div class="pse-card cursor-pointer bg-green-100 rounded-lg p-4 text-center border-2 border-transparent" data-value="2" onclick="selectPSE(this, 2)"> <div class="text-2xl font-bold text-green-800">2</div> <div class="text-sm text-green-600">Fácil</div> </div> <div class="pse-card cursor-pointer bg-green-200 rounded-lg p-4 text-center border-2 border-transparent" data-value="3" onclick="selectPSE(this, 3)"> <div class="text-2xl font-bold text-green-800">3</div> <div class="text-sm text-green-600">Moderado</div> </div> <div class="pse-card cursor-pointer bg-yellow-100 rounded-lg p-4 text-center border-2 border-transparent" data-value="4" onclick="selectPSE(this, 4)"> <div class="text-2xl font-bold text-yellow-800">4</div> <div class="text-sm text-yellow-600">Um Pouco Difícil</div> </div> <div class="pse-card cursor-pointer bg-yellow-200 rounded-lg p-4 text-center border-2 border-transparent" data-value="5" onclick="selectPSE(this, 5)"> <div class="text-2xl font-bold text-yellow-800">5</div> <div class="text-sm text-yellow-600">Difícil</div> </div> <div class="pse-card cursor-pointer bg-orange-200 rounded-lg p-4 text-center border-2 border-transparent" data-value="6" onclick="selectPSE(this, 6)"> <div class="text-2xl font-bold text-orange-800">6</div> <div class="text-sm text-orange-600">-</div> </div> <div class="pse-card cursor-pointer bg-orange-300 rounded-lg p-4 text-center border-2 border-transparent" data-value="7" onclick="selectPSE(this, 7)"> <div class="text-2xl font-bold text-orange-800">7</div> <div class="text-sm text-orange-600">Muito Difícil</div> </div> <div class="pse-card cursor-pointer bg-red-300 rounded-lg p-4 text-center border-2 border-transparent" data-value="8" onclick="selectPSE(this, 8)"> <div class="text-2xl font-bold text-red-800">8</div> <div class="text-sm text-red-600">-</div> </div> <div class="pse-card cursor-pointer bg-red-400 rounded-lg p-4 text-center border-2 border-transparent" data-value="9" onclick="selectPSE(this, 9)"> <div class="text-2xl font-bold text-red-800">9</div> <div class="text-sm text-red-600">-</div> </div> <div class="pse-card cursor-pointer bg-red-500 rounded-lg p-4 text-center border-2 border-transparent" data-value="10" onclick="selectPSE(this, 10)"> <div class="text-2xl font-bold text-white">10</div> <div class="text-sm text-white">Máximo</div> </div> </div> <input type="hidden" id="pseValue" name="pseValue" required> </div> <div class="mt-6"> <label class="block text-lg font-medium text-gray-700 mb-2">Unidades Arbitrárias (PSE × Duração)</label> <div id="uaPreview" class="ua-value">0</div> </div> <div class="mt-6"> <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">Observações (opcional)</label> <textarea id="notes" name="notes" rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Descreva como se sentiu durante o treino..."></textarea> </div> </form> </div> <!-- Modal de envio por email --> <div id="emailSentModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"> <div class="bg-white rounded-lg p-8 max-w-md w-full"> <div class="text-center"> <svg class="mx-auto h-12 w-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> <h3 class="mt-4 text-xl font-medium text-gray-900">Dados Enviados!</h3> <p class="mt-2 text-gray-600">Seus dados de treino foram enviados para o treinador.</p> <div class="mt-6"> <button id="closeEmailModal" class="bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"> Fechar </button> </div> </div> </div> </div> <script> document.addEventListener('DOMContentLoaded', function() { // Definir a data de hoje como padrão const today = new Date().toISOString().split('T')[0]; document.getElementById('date').value = today; // Fechar modal de email enviado document.getElementById('closeEmailModal').addEventListener('click', function() { document.getElementById('emailSentModal').classList.add('hidden'); }); // Enviar para o treinador document.getElementById('sendToTrainer').addEventListener('click', function() { // Validar campos obrigatórios const name = document.getElementById('name').value.trim(); const date = document.getElementById('date').value; const duration = document.getElementById('duration').value; const pseValue = document.getElementById('pseValue').value; const trainerEmail = document.getElementById('trainerEmail').value.trim(); if (!name) { alert('Por favor, insira seu nome.'); document.getElementById('name').focus(); return; } if (!date) { alert('Por favor, selecione a data do treino.'); document.getElementById('date').focus(); return; } if (!duration) { alert('Por favor, insira a duração do treino.'); document.getElementById('duration').focus(); return; } if (!pseValue) { alert('Por favor, selecione um valor na escala PSE.'); return; } // Coletar dados do formulário const distance = document.getElementById('distance').value || 'Não informado'; const notes = document.getElementById('notes').value || 'Nenhuma observação'; // Calcular unidades arbitrárias const ua = calcularUA(pseValue, duration); // Formatar data para exibição const dateParts = date.split('-'); const formattedDate = `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`; // Obter descrição do PSE let pseDesc = ''; switch(parseInt(pseValue)) { case 0: pseDesc = 'Repouso'; break; case 1: pseDesc = 'Muito Fácil'; break; case 2: pseDesc = 'Fácil'; break; case 3: pseDesc = 'Moderado'; break; case 4: pseDesc = 'Um Pouco Difícil'; break; case 5: pseDesc = 'Difícil'; break; case 6: pseDesc = '-'; break; case 7: pseDesc = 'Muito Difícil'; break; case 8: pseDesc = '-'; break; case 9: pseDesc = '-'; break; case 10: pseDesc = 'Máximo'; break; } // Criar dados para planilha (formato TSV - Tab-Separated Values) let planilhaData = `Nome\tData\tDuração (min)\tDistância (km)\tPSE\tUnidades Arbitrárias\tObservações\n`; planilhaData += `${name}\t${formattedDate}\t${duration}\t${distance}\t${pseValue}\t${ua}\t${notes}`; // Criar link mailto otimizado para Gmail const subject = `Registro PSE - ${name} - ${formattedDate}`; const body = `Registro de treino do aluno: ${name}\n\n` + `Data: ${formattedDate}\n` + `Duração: ${duration} minutos\n` + `Distância: ${distance} km\n` + `PSE: ${pseValue} (${pseDesc})\n` + `Unidades Arbitrárias: ${ua}\n\n` + `Observações: ${notes}\n\n` + `---\n\n` + `DADOS PARA PLANILHA (copiar e colar):\n\n${planilhaData}`; const mailtoLink = `mailto:${trainerEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`; // Abrir cliente de e-mail window.location.href = mailtoLink; // Mostrar modal de confirmação de email document.getElementById('emailSentModal').classList.remove('hidden'); // Limpar formulário (exceto nome e email do treinador) document.getElementById('duration').value = ''; document.getElementById('distance').value = ''; document.getElementById('notes').value = ''; document.getElementById('pseValue').value = ''; document.getElementById('uaPreview').textContent = '0'; // Remover seleção dos cartões PSE const pseCards = document.querySelectorAll('.pse-card'); pseCards.forEach(card => { card.classList.remove('pse-selected'); card.classList.remove('border-indigo-600'); }); }); }); // Função para calcular unidades arbitrárias (PSE × duração) function calcularUA(pse, duracao) { if (!pse || !duracao) return 0; return parseInt(pse) * parseInt(duracao); } // Função para selecionar PSE function selectPSE(element, value) { // Remover seleção anterior const pseCards = document.querySelectorAll('.pse-card'); pseCards.forEach(card => { card.classList.remove('pse-selected'); card.classList.remove('border-indigo-600'); }); // Adicionar seleção ao cartão clicado element.classList.add('pse-selected'); element.classList.add('border-indigo-600'); // Atualizar valor oculto document.getElementById('pseValue').value = value; // Atualizar preview de UA calcularUAPreview(); } // Função para calcular e exibir UA em tempo real function calcularUAPreview() { const pse = document.getElementById('pseValue').value; const duracao = document.getElementById('duration').value; if (pse && duracao) { const ua = calcularUA(pse, duracao); document.getElementById('uaPreview').textContent = ua; } else { document.getElementById('uaPreview').textContent = '0'; } } </script>


